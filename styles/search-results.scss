@import 'variables';

.search-page__header {
  margin-bottom: 1rem;

  h1 {
    margin-bottom: 0;
  }

  // Overwrite default bootstrap row-col float behaviour to align bottom
  > * {
    display: inline-block;
    float  : none;
  }

  > *:last-child {
    vertical-align: bottom;
  }
}

.search-page__sorting {
  padding-bottom: .2rem;
  padding-top   : .5rem;
  text-align    : right;
}

.search-results {
  .thumbnail {
    background-color: $white;
    border          : 0;
    padding         : 0;
    position        : relative;
  }

  // Video thumbnail
  .video-thumbnail {
    background    : $gray;
    padding-bottom: 75%; // Maintaining the 4:3 aspect ratio
    position      : relative;
    width         : 100%;

    .icon {
      background       : url('/images/film-projector.svg');
      background-repeat: no-repeat;
      background-size  : contain;
      height           : 80%;
      margin           : 10%;
      position         : absolute;
      width            : 80%;
    }
  }
  // The actual image
  .image {
    display   : block;
    text-align: center;
  }

  .overlay {
    display  : inline-block;
    max-width: 100%;
    position : relative;

    img {
      max-width: 100%;
    }

    svg {
      bottom  : 1em;
      height  : 2em;
      opacity : .75;
      position: absolute;
      right   : 1em;
      width   : 3em;
    }
  }

  a {
    color  : $black;
    display: block;

    &:hover {
      background-color: $white;
      border          : 0;
      color           : $link-hover-color;
      text-decoration : none;
    }
  }

  .cat-link a {
    font-size      : 97%;
    text-decoration: underline;
  }
}

// Responsive masonry boxes
.box {
  box-sizing: border-box;
  float     : left;
  min-height: 1px;
  padding   : 0 15px 20px;
  width     : 100%;

  &.loaded-more {
    opacity: 0;
  }

  &.load-done {
    animation: fadeIn $anim-duration-long forwards;
    opacity  : 0;
    @keyframes fadeIn {
      0% {
        opacity: 0;
      }

      100% {
        opacity: 1;
      }
    }
  }

  .overlay,
  .overlay img {
    width: 100%;
  }

  .h4 {
    margin-bottom: 2px;
  }

  .description {
    margin-bottom: 0;
    overflow     : hidden;
    text-overflow: ellipsis;
    white-space  : nowrap;
  }

  .cat-link {
    margin-bottom: 0;
    margin-top   : 5px;
  }

  @media all and (max-width: 420px) {
    padding: 0;
    width  : 100%;

    h2,
    p {
      padding: 0 10px;
    }
  }

  @media all and (max-width: 635px) and (min-width: 420px) {
    width: 50%;
  }

  @media all and (max-width: 992px) and (min-width: 635px) {
    width: 33.3333%;
  }

  @media all and (min-width: 992px) {
    width: 25%;
  }
}

// Load more button
.load-more {
  display  : block;
  margin   : 4rem auto;
  min-width: 12rem;
}
